## 25.05.13(화) TIL

### 오늘 한 일 : 팀플



#### 오늘의 강의
- 작성 후 GPT를 이용해 정리했습니다!
  
**2025.05.13 - 스탠다드 (이재현 튜터님)**

## 📌 오늘의 주제: UI

- 프로젝트 오픈 후 에러 메시지가 있는 경우, Unity를 재부팅한다.

## 📋 Canvas 및 Event System

- **Canvas 생성**: UI 작업을 위한 기본 단위.
- **Event System**: 마우스 클릭, 터치 등의 입력 이벤트를 감지하고 처리. 반드시 존재해야 한다.

### Canvas의 Rect Transform:
- **UI 전용 Transform**. 게임 뷰에 따라 자동으로 종횡비 고정.

### Render Mode:
- **Screen Space - Overlay**: 화면 맨 앞에 UI를 배치. 좌표 고정.
- **Screen Space - Camera**: Render Camera를 지정해 씬 분리 작업에 유용. 별도 카메라 사용 시 UI 위치를 자유롭게 설정 가능.
- **World Space**: 3D 공간에 UI 배치. NPC 위 체력바 등에 사용.

### Canvas 좌표 기준:
- 좌측 하단이 (0,0,0).

## 🧭 씬 편집 팁

- 씬 뷰에서 숫자 2 단축키로 2D 모드 전환 가능.
- Skybox 제거 가능 (더 보기 쉽게 설정).
- UI 작업 시 카메라 분리 사용 → 충돌 없이 작업 가능.
- culling Mask로 카메라의 렌더링 범위 조절 가능.

## 🎚 Canvas Scaler 설정 (중요)

### UI Scale Mode:
- **Constant Pixel Size**: 해상도와 상관없이 픽셀 고정. (가장 먼저 설정할 것!)
- **Scale With Screen Size**: 다양한 해상도 대응. 기본 해상도는 1280x720 추천.

### Match 슬라이더:
- **0**: 너비 기준 스케일링
- **1**: 높이 기준 스케일링
- **0.5**: 두 축을 혼합

## 🎯 Graphic Raycaster

- 버튼, 인풋 필드 등에서 마우스 클릭을 감지할 수 있도록 해주는 컴포넌트.
- **Ignore Reversed Graphics**: 뒤집힌 UI는 무시할지 여부 설정.
- **Blocking Objects**:
  - None, 2D, 3D 중 선택 가능
  - 예: 버튼 앞에 3D 큐브가 있을 때 클릭 차단 여부 설정
- **Blocking Mask**: 특정 레이어만 차단 가능
- **Canvas Group**의 Blocks Raycasts 옵션으로 하위 요소 전반 레이캐스트 차단 가능

## 📐 UI 구성 요소 작업

### 🧩 Panel

- Canvas 아래 Panel 추가 시 전체 사이즈로 생성됨.
- 엣지를 드래그하여 크기 조절 가능. **Alt** 키를 누르면 양방향으로 조절.

### 🎯 Anchor & Pivot

- **앵커 포인트**: UI 요소가 해상도 변경에도 고정되는 위치를 결정.
- **피벗(Pivot)**: 회전 및 크기 조절 기준점.
- 앵커는 **Inspector > Preset**을 통해 설정.
  - **Alt**: 앵커만 이동
  - **Shift**: 피벗도 함께 이동

#### 예시:
- 2개 위 + 2개 아래 앵커 → 세로 기준 리사이징
- 좌/우 앵커 조합 → 가로 기준 리사이징
- 피벗 위치가 바뀌지 않을 때: Pivot으로 설정 변경 필요

### 🖼 이미지 작업

- 이미지 삽입 후 **Preserve Aspect** 체크 시 종횡비 유지.
- **Set Native Size**: 이미지 원본 픽셀 사이즈로 설정.

### 🖼 Image Type

- **Sliced**: Sprite Editor에서 잘라진 경우 사용
- **Tiled**: 반복되는 패턴
- **Filled**: 특정 방향으로 채워짐 (Fill Amount로 양 조절)

### 🧰 Sprite 설정 팁

- **Sprite Mode**: Single
- **Compression**: None
- **Filter Mode**: Point
- **Texture Type**: Sprite (2D and UI) 또는 Default (아틀라스 제외용)
- Atlas에 넣지 않으려면 **Packing Tag** 사용하지 않기

### 🎨 에셋 활용

- **Window > Asset Store**로 웹 브라우저에서 에셋 스토어 열기
- 다운로드한 에셋 가져오기:
  - 에셋 다운로드
  - Unity → **Window > Package Manager**
  - My Assets 선택 후 Download → Import

### ✂️ Sprite Editor 사용 팁

- 초록 선으로 왜곡되지 않을 부분 지정
- **Apply** 버튼 옆에서 흑백 모드 확인 가능

### ✏️ TextMeshPro 사용

- Panel 아래에 TextMeshPro 추가 가능
- 도트 드래그는 마진 조정만 됨 → 크기는 흰색 박스 엣지로 조절
- **Extra Settings > Margins**에서 마진 설정
- 텍스트에도 반드시 앵커 포인트 설정 필요

### 🖊 Input Field (TextMeshPro)

- Panel 아래에 추가 가능
- **Placeholder**: 초기 안내 문구
- **Text**: 실제 입력되는 텍스트
- 위치 조정 전 앵커 포인트 설정 필수

### 🔘 버튼

- **Transition**:
  - **Color Tint**: 색상 변경
  - **Sprite Swap**: 상황별 스프라이트 교체 (유용)
  - **Animation**: 애니메이터의 Trigger 파라미터 설정 필요
- **Navigation**:
  - **EventSystem > First Selected** 항목 지정
  - 키보드 화살표로 버튼 간 이동 가능
  - **Button > Navigation > Visualize**로 확인 가능

## 🧰 UI 최적화 팁

- 단일 텍스처는 Sprite Atlas 낭비 → Texture Type을 Default로 변경
- **Sprite Atlas**: 드로우 콜 감소에 유리하나, 낭비되는 공간 주의
- 작은 이미지 하나만 들어가면 메모리 낭비 + 성능 이점 없음
- **Sprite Packer**: 자동 스프라이트 묶기 기능
- 아틀라스 제외를 위해 **Texture Type**을 Default로 설정

## 📦 유니티 패키지 및 리소스

- Unity Registry에서 **2D Sprite** 다운로드
- Sprite Editor에서 **Slice** 조정
- **PPU(Pixels Per Unit)**로 이미지 크기 조절 가능 (예: PPU 2)

## 🎛 Scroll View 구성 (예: 인벤토리, 스코어 기록)

- Panel 아래에 **Layout Panel** 추가
- **Anchor Preset**으로 좌우 하단 고정 (Stretch Preset)
- Layout Panel 하위에 버튼 추가

### 📐 Layout Group

- UI 정렬 자동화를 위해 다음 중 택 1 사용:
  - **Horizontal Layout Group**
  - **Vertical Layout Group**
  - **Grid Layout Group**
- **Cell Size**, **Spacing**으로 레이아웃 조절

### 📜 Scroll View

- **Viewport** 안의 **Content**가 스크롤됨
- **Anchor**는 부모 Panel에 맞게 조정
- **Content** 안에 UI 요소 배치 (예: 여러 버튼)
- **Viewport**: 마스크 역할. 외부 요소 숨김
- **horizontal** 체크 시 가로 스크롤 가능

## 🧪 기타 팁

- **Ctrl + Shift + A**: 컴포넌트 추가 단축키
- **Canvas > 우클릭 > Raw Image**: 텍스처 표시용 UI
- UI의 **Transform** 정렬은 **Sorting Order**로 조절 (숫자가 높을수록 앞)

## 📝 추후 수업 안내

- UI와 코드의 연동은 추후 UI 최적화 수업에서 다룰 예정

## ✅ UI 설정 체크리스트

- **Render Mode** 설정
- **UI Scale Mode** 설정

<details>
  <summary>[기존 정리문]</summary>

  Unity UI Study Notes

2025.05.13. 스탠다드 (이재현 튜터님)

📌 오늘의 주제: UI

프로젝트 오픈 후 에러 메시지가 있는 경우, Unity를 재부팅한다.

📋 Canvas 및 Event System

Canvas 생성: UI 작업을 위한 기본 단위.

Event System: 마우스 클릭, 터치 등의 입력 이벤트를 감지하고 처리. 반드시 존재해야 한다.

Canvas의 Rect Transform: UI 전용 Transform. 게임 뷰에 따라 자동으로 종횡비 고정.

Render Mode:

Screen Space - Overlay: 화면 맨 앞에 UI를 배치. 좌표 고정.

Screen Space - Camera: Render Camera를 지정해 씬 분리 작업에 유용. 별도 카메라 사용 시 UI 위치를 자유롭게 설정 가능.

World Space: 3D 공간에 UI 배치. NPC 위 체력바 등에 사용.

Canvas 좌표 기준: 좌측 하단이 (0,0,0).

🧭 씬 편집 팁

씬 뷰에서 숫자 2 단축키로 2D 모드 전환 가능.

Skybox 제거 가능 (더 보기 쉽게 설정).

UI 작업 시 카메라 분리 사용 → 충돌 없이 작업 가능.

culling Mask로 카메라의 렌더링 범위 조절 가능.

🎚 Canvas Scaler 설정 (중요)

UI Scale Mode:

Constant Pixel Size: 해상도와 상관없이 픽셀 고정. (가장 먼저 설정할 것!)

Scale With Screen Size: 다양한 해상도 대응. 기본 해상도는 1280x720 추천.

Match 슬라이더:

0: 너비 기준 스케일링

1: 높이 기준 스케일링

0.5: 두 축을 혼합

🎯 Graphic Raycaster

버튼, 인풋 필드 등에서 마우스 클릭을 감지할 수 있도록 해주는 컴포넌트.

Ignore Reversed Graphics: 뒤집힌 UI는 무시할지 여부 설정.

Blocking Objects:

None, 2D, 3D 중 선택 가능

예: 버튼 앞에 3D 큐브가 있을 때 클릭 차단 여부 설정

Blocking Mask: 특정 레이어만 차단 가능

Canvas Group의 Blocks Raycasts 옵션으로 하위 요소 전반 레이캐스트 차단 가능

📐 UI 구성 요소 작업

🧩 Panel

Canvas 아래 Panel 추가 시 전체 사이즈로 생성됨.

엣지를 드래그하여 크기 조절 가능. Alt 키를 누르면 양방향으로 조절.

🎯 Anchor & Pivot

앵커 포인트: UI 요소가 해상도 변경에도 고정되는 위치를 결정.

피벗(Pivot): 회전 및 크기 조절 기준점.

앵커는 Inspector > Preset을 통해 설정.

Alt: 앵커만 이동

Shift: 피벗도 함께 이동

예시:

2개 위 + 2개 아래 앵커 → 세로 기준 리사이징

좌/우 앵커 조합 → 가로 기준 리사이징

피벗 위치가 바뀌지 않을 때: Pivot으로 설정 변경 필요

🖼 이미지 작업

이미지 삽입 후 Preserve Aspect 체크 시 종횡비 유지.

Set Native Size: 이미지 원본 픽셀 사이즈로 설정.

🖼 Image Type

Sliced: Sprite Editor에서 잘라진 경우 사용

Tiled: 반복되는 패턴

Filled: 특정 방향으로 채워짐 (Fill Amount로 양 조절)

🧰 Sprite 설정 팁

Sprite Mode: Single

Compression: None

Filter Mode: Point

Texture Type: Sprite (2D and UI) 또는 Default (아틀라스 제외용)

Atlas에 넣지 않으려면 Packing Tag 사용하지 않기

🎨 에셋 활용

Window > Asset Store로 웹 브라우저에서 에셋 스토어 열기

다운로드한 에셋 가져오기:

에셋 다운로드

Unity → Window > Package Manager

My Assets 선택 후 Download → Import

✂️ Sprite Editor 사용 팁

초록 선으로 왜곡되지 않을 부분 지정

Apply 버튼 옆에서 흑백 모드 확인 가능

✏️ TextMeshPro 사용

Panel 아래에 TextMeshPro 추가 가능

도트 드래그는 마진 조정만 됨 → 크기는 흰색 박스 엣지로 조절

Extra Settings > Margins에서 마진 설정

텍스트에도 반드시 앵커 포인트 설정 필요

🖊 Input Field (TextMeshPro)

Panel 아래에 추가 가능

Placeholder: 초기 안내 문구

Text: 실제 입력되는 텍스트

위치 조정 전 앵커 포인트 설정 필수

🔘 버튼

Transition:

Color Tint: 색상 변경

Sprite Swap: 상황별 스프라이트 교체 (유용)

Animation: 애니메이터의 Trigger 파라미터 설정 필요

Navigation:

EventSystem > First Selected 항목 지정

키보드 화살표로 버튼 간 이동 가능

Button > Navigation > Visualize로 확인 가능

🧰 UI 최적화 팁

단일 텍스처는 Sprite Atlas 낭비 → Texture Type을 Default로 변경

Sprite Atlas: 드로우 콜 감소에 유리하나, 낭비되는 공간 주의

작은 이미지 하나만 들어가면 메모리 낭비 + 성능 이점 없음

Sprite Packer: 자동 스프라이트 묶기 기능

아틀라스 제외를 위해 Texture Type을 Default로 설정

📦 유니티 패키지 및 리소스

Unity Registry에서 2D Sprite 다운로드

Sprite Editor에서 Slice 조정

PPU(Pixels Per Unit)로 이미지 크기 조절 가능 (예: PPU 2)

🎛 Scroll View 구성 (예: 인벤토리, 스코어 기록)

Panel 아래에 Layout Panel 추가

Anchor Preset으로 좌우 하단 고정 (Stretch Preset)

Layout Panel 하위에 버튼 추가

📐 Layout Group

UI 정렬 자동화를 위해 다음 중 택 1 사용:

Horizontal Layout Group

Vertical Layout Group

Grid Layout Group

Cell Size, Spacing으로 레이아웃 조절

📜 Scroll View

Viewport 안의 Content가 스크롤됨

Anchor는 부모 Panel에 맞게 조정

Content 안에 UI 요소 배치 (예: 여러 버튼)

Viewport: 마스크 역할. 외부 요소 숨김

horizontal 체크 시 가로 스크롤 가능

🧪 기타 팁

Ctrl + Shift + A: 컴포넌트 추가 단축키

Canvas > 우클릭 > Raw Image: 텍스처 표시용 UI

UI의 Transform 정렬은 Sorting Order로 조절 (숫자가 높을수록 앞)

📝 추후 수업 안내

UI와 코드의 연동은 추후 UI 최적화 수업에서 다룰 예정

✅ UI 설정 체크리스트

Render Mode 설정

UI Scale Mode 설정
</details>
